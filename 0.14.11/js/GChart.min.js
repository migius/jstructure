function drawTableDeformateNodali(){if(null!==$scope.soluzione&&null!==$scope.soluzione.elencoNodi&&$scope.soluzione.elencoNodi){var a=new google.visualization.DataTable;a.addColumn("string",T.Nodo),a.addColumn("number",T.Deformata+" X"),a.addColumn("number",T.Deformata+" Y"),a.addColumn("number",T.Rotazione);for(var b=0;b<$scope.soluzione.elencoNodi.length;b++)a.addRow([T.Nodo+" "+$scope.soluzione.elencoNodi[b].Nodo.getDescription(),$scope.soluzione.elencoNodi[b].DeformataX,$scope.soluzione.elencoNodi[b].DeformataY,$scope.soluzione.elencoNodi[b].Rotazione]);var c=new google.visualization.Table(document.getElementById("Deformatenodali_Table_div"));c.draw(a)}}function drawTableAzioniAssiali(){if(null!==$scope.soluzione&&null!==$scope.soluzione.elencoNodi&&$scope.soluzione.elencoNodi){var a=new google.visualization.DataTable;a.addColumn("string",T.Asta),a.addColumn("string",T.Nodo),a.addColumn("number",T.Azioneassiale),a.addColumn("string",T.Nodo),a.addColumn("number",T.Azioneassiale);for(var b=0;b<$scope.soluzione.elencoAste.length;b++)a.addRow([T.Asta+" "+$scope.soluzione.elencoAste[b].Asta.getDescription(),$scope.soluzione.elencoAste[b].Nodo1.Nodo.getDescription(),$scope.soluzione.elencoAste[b].Nodo1.Azione,$scope.soluzione.elencoAste[b].Nodo2.Nodo.getDescription(),$scope.soluzione.elencoAste[b].Nodo2.Azione]);var c=new google.visualization.Table(document.getElementById("Azioneassiale_Table_div"));c.draw(a)}}function drawTableTaglio(){if(null!==$scope.soluzione&&null!==$scope.soluzione.elencoNodi&&$scope.soluzione.elencoNodi){var a=new google.visualization.DataTable;a.addColumn("string",T.Asta),a.addColumn("string",T.Nodo),a.addColumn("number",T.Taglio),a.addColumn("string",T.Nodo),a.addColumn("number",T.Taglio);for(var b=0;b<$scope.soluzione.elencoAste.length;b++)a.addRow([T.Asta+" "+$scope.soluzione.elencoAste[b].Asta.getDescription(),$scope.soluzione.elencoAste[b].Nodo1.Nodo.getDescription(),$scope.soluzione.elencoAste[b].Nodo1.Taglio,$scope.soluzione.elencoAste[b].Nodo2.Nodo.getDescription(),$scope.soluzione.elencoAste[b].Nodo2.Taglio]);var c=new google.visualization.Table(document.getElementById("Taglio_Table_div"));c.draw(a)}}function drawTableMomento(){if(null!==$scope.soluzione&&null!==$scope.soluzione.elencoNodi&&$scope.soluzione.elencoNodi){var a=new google.visualization.DataTable;a.addColumn("string",T.Asta),a.addColumn("string",T.Nodo),a.addColumn("number",T.Momento),a.addColumn("string",T.Nodo),a.addColumn("number",T.Momento);for(var b=0;b<$scope.soluzione.elencoAste.length;b++)a.addRow([T.Asta+" "+$scope.soluzione.elencoAste[b].Asta.getDescription(),$scope.soluzione.elencoAste[b].Nodo1.Nodo.getDescription(),$scope.soluzione.elencoAste[b].Nodo1.Momento,$scope.soluzione.elencoAste[b].Nodo2.Nodo.getDescription(),$scope.soluzione.elencoAste[b].Nodo2.Momento]);var c=new google.visualization.Table(document.getElementById("Momento_Table_div"));c.draw(a)}}function mostraRisultati(){drawTableDeformateNodali(),drawTableAzioniAssiali(),drawTableTaglio(),drawTableMomento(),disegnaDesormata()}function addDataRowNodi(a){for(var c=0;c<$scope.problema.elencoNodi.length;c++)a.addRow([$scope.problema.elencoNodi[c].Punto.CoorX,$scope.problema.elencoNodi[c].Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoNodi[c].Id].outerHTML,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),a.addRow([null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function addDataRowAste(a){for(var c=0;c<$scope.problema.elencoAste.length;c++)valorizzaTooltipAsta($scope.problema.elencoAste[c].Nodo1.Id,"Primo",$scope.problema.elencoAste[c].Id),a.addRow([$scope.problema.elencoAste[c].Nodo1.Punto.CoorX,null,null,null,$scope.problema.elencoAste[c].Nodo1.Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoAste[c].Nodo1.Id].outerHTML,"point { size: 0;",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),valorizzaTooltipAsta($scope.problema.elencoAste[c].Nodo2.Id,"Secondo",$scope.problema.elencoAste[c].Id),a.addRow([$scope.problema.elencoAste[c].Nodo2.Punto.CoorX,null,null,null,$scope.problema.elencoAste[c].Nodo2.Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoAste[c].Nodo2.Id].outerHTML,"point { size: 0;",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),a.addRow([null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function addDataRowVincoli(a){for(var c=0;c<$scope.problema.elencoVincoli.length;c++)valorizzaTooltipVincolo($scope.problema.elencoVincoli[c].Nodo.Id,$scope.problema.elencoVincoli[c].Direzione.Descrizione),a.addRow([$scope.problema.elencoVincoli[c].Nodo.Punto.CoorX,null,null,null,null,null,null,$scope.problema.elencoVincoli[c].Nodo.Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoVincoli[c].Nodo.Id].outerHTML,"point { size: 7; shape-type: square; fill-color: #a52714",null,null,null,null,null,null,null,null,null,null,null,null]),a.addRow([null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function addDataRowAsservimenti(a){for(var c=0;c<$scope.problema.elencoAsservimenti.length;c++)valorizzaTooltipAsservimento($scope.problema.elencoAsservimenti[c].NodoMaster.Id,$scope.problema.elencoAsservimenti[c].NodoSlave.Id,$scope.problema.elencoAsservimenti[c].Direzione.Descrizione),a.addRow([$scope.problema.elencoAsservimenti[c].NodoMaster.Punto.CoorX,null,null,null,null,null,null,null,null,null,$scope.problema.elencoAsservimenti[c].NodoMaster.Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoAsservimenti[c].NodoMaster.Id].outerHTML,null,null,null,null,null,null,null,null,null,null]),a.addRow([null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),a.addRow([$scope.problema.elencoAsservimenti[c].NodoSlave.Punto.CoorX,null,null,null,null,null,null,null,null,null,$scope.problema.elencoAsservimenti[c].NodoSlave.Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoAsservimenti[c].NodoSlave.Id].outerHTML,null,null,null,null,null,null,null,null,null,null]),a.addRow([null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function addDataRowNodali(a){for(var c=0;c<$scope.problema.elencoNodali.length;c++)valorizzaTooltipNodali($scope.problema.elencoNodali[c].Nodo.Id,$scope.problema.elencoNodali[c]),a.addRow([$scope.problema.elencoNodali[c].Nodo.Punto.CoorX,null,null,null,null,null,null,null,null,null,null,null,null,$scope.problema.elencoNodali[c].Nodo.Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoNodali[c].Nodo.Id].outerHTML,null,null,null,null,null,null,null]),a.addRow([null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function addDataRowDistribuiti(a){for(var c=0;c<$scope.problema.elencoDistribuiti.length;c++)valorizzaTooltipDistribuiti($scope.problema.elencoDistribuiti[c]),a.addRow([$scope.problema.elencoDistribuiti[c].Asta.Nodo1.Punto.CoorX,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,$scope.problema.elencoDistribuiti[c].Asta.Nodo1.Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoDistribuiti[c].Asta.Nodo1.Id].outerHTML,"point { size: 0;",null,null,null]),a.addRow([$scope.problema.elencoDistribuiti[c].Asta.Nodo2.Punto.CoorX,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,$scope.problema.elencoDistribuiti[c].Asta.Nodo2.Punto.CoorY,$scope.grafica.tooltips[$scope.problema.elencoDistribuiti[c].Asta.Nodo2.Id].outerHTML,"point { size: 0;",null,null,null]),a.addRow([null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function addDataRowTermici(){}function disegna(){if(null!==$scope.problema){var a={tooltip:{isHtml:!0},legend:"none",lineWidth:2},b=new google.visualization.DataTable;b.addColumn("number","x"),b.addColumn("number",T.Nodi),b.addColumn({type:"string",role:"tooltip",p:{html:!0}}),b.addColumn({type:"string",role:"style"}),b.addColumn("number",T.Aste),b.addColumn({type:"string",role:"tooltip",p:{html:!0}}),b.addColumn({type:"string",role:"style"}),b.addColumn("number",T.VincoliRigidi),b.addColumn({type:"string",role:"tooltip",p:{html:!0}}),b.addColumn({type:"string",role:"style"}),b.addColumn("number",T.Asservimenti),b.addColumn({type:"string",role:"tooltip",p:{html:!0}}),b.addColumn({type:"string",role:"style"}),b.addColumn("number",T.CarichiNodali),b.addColumn({type:"string",role:"tooltip",p:{html:!0}}),b.addColumn({type:"string",role:"style"}),b.addColumn("number",T.CarichiDistribuiti),b.addColumn({type:"string",role:"tooltip",p:{html:!0}}),b.addColumn({type:"string",role:"style"}),b.addColumn("number",T.CarichiTermici),b.addColumn({type:"string",role:"tooltip",p:{html:!0}}),b.addColumn({type:"string",role:"style"}),inizializzaTooltip(),null!==$scope.problema.elencoNodi&&$scope.problema.elencoNodi.length>0&&$scope.grafica.mostraNodi&&addDataRowNodi(b,a),null!==$scope.problema.elencoAste&&$scope.problema.elencoAste.length>0&&$scope.grafica.mostraAste&&addDataRowAste(b,a),null!==$scope.problema.elencoVincoli&&$scope.problema.elencoVincoli.length>0&&$scope.grafica.mostraVincoli&&addDataRowVincoli(b,a),null!==$scope.problema.elencoAsservimenti&&$scope.problema.elencoAsservimenti.length>0&&$scope.grafica.mostraAsservimenti&&addDataRowAsservimenti(b,a),null!==$scope.problema.elencoNodali&&$scope.problema.elencoNodali.length>0&&$scope.grafica.mostraNodali&&addDataRowNodali(b,a),null!==$scope.problema.elencoDistribuiti&&$scope.problema.elencoDistribuiti.length>0&&$scope.grafica.mostraDistribuiti&&addDataRowDistribuiti(b,a),null!==$scope.problema.elencoTermici&&$scope.problema.elencoTermici.length>0&&$scope.grafica.mostraTermici&&addDataRowTermici(b,a);var c=new google.visualization.ScatterChart(document.getElementById("chart_div"));c.draw(b,a),$("#GraficoRisultatiSelect").hide()}}function drawChart(){disegna()}function disegnaDeformata(a,b){if(null!==$scope.problema){var c={legend:"none",lineWidth:2,pointSize:3};switch(b){case"x":c.type="line";break;case"y":c.type="line";break;case"r":c.type="line";break;case"N":c.type="area";break;case"T":c.type="area";break;case"M":c.type="area"}var d=new google.visualization.DataTable;d.addColumn("number","x"),d.addColumn("number","Valore");var e=getItemfromId(a,$scope.problema.elencoAste),f=e.Lunghezza();if(null!==$scope&&null!==$scope.grafica&&null!==$scope.grafica.elencoAsteGrafico)for(var g=0;g<$scope.grafica.elencoAsteGrafico[a].length;g++){var h;switch(b){case"x":h=$scope.grafica.elencoAsteGrafico[a][g].NodoDeformato.DeformataX;break;case"y":h=$scope.grafica.elencoAsteGrafico[a][g].NodoDeformato.DeformataY;break;case"r":h=$scope.grafica.elencoAsteGrafico[a][g].NodoDeformato.Rotazione;break;case"N":h=$scope.grafica.elencoAsteGrafico[a][g].NodoAzioniInterne.Azione;break;case"T":h=$scope.grafica.elencoAsteGrafico[a][g].NodoAzioniInterne.Taglio;break;case"M":h=$scope.grafica.elencoAsteGrafico[a][g].NodoAzioniInterne.Momento}null===h&&(h=0),d.addRow([g*f/$scope.parametri.puntiDiscretizzazione,h])}var i=new google.visualization.ScatterChart(document.getElementById("chart_div"));i.draw(d,c),$("#GraficoRisultatiSelect").show()}}function disegnaDesormata(){disegnaDeformata($scope.grafica.astaRisultatiGrafico,$scope.grafica.tipoRisultatiGrafico)}google.load("visualization","1",{packages:["table"]}),google.setOnLoadCallback(drawChart);